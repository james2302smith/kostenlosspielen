<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<head lang="en">
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<title>Bubble shooter - HTML5 Game</title>
	<!-- Framework CSS -->
	<link rel="stylesheet" href="assets/blueprint-css/screen.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="assets/blueprint-css/print.css" type="text/css" media="print">
	<link href="styles/shCore.css" rel="stylesheet" type="text/css" >
	<link href="styles/shCoreDefault.css" rel="stylesheet" type="text/css" >
	<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" >
	
	<!--[if lt IE 8]><link rel="stylesheet" href="assets/blueprint-css/ie.css" type="text/css" media="screen, projection"><![endif]-->
	<link rel="stylesheet" href="assets/blueprint-css/plugins/fancy-type/screen.css" type="text/css" media="screen, projection">
	<style type="text/css" media="screen">
		p, table, hr, .box { margin-bottom:25px; }
		.box p { margin-bottom:10px; }
	</style>
	
	<script type="text/javascript" src="scripts/shCore.js"></script>
	<script type="text/javascript" src="scripts/shBrushJScript.js"></script>
	<script type="text/javascript" src="scripts/shBrushXml.js"></script>
</head>


<body>
	<div class="container">
	
		<h3 class="center alt">&ldquo;Bubble shooter&rdquo; Documentation by &ldquo;Code This Lab S.r.l.&rdquo; v1.0</h3>
		
		<hr>
		
		<h1 class="center">&ldquo;Bubble shooter&rdquo;</h1>
		
		<div class="borderTop">
			<div class="span-6 colborder info prepend-1">
				<p class="prepend-top">
					<strong>
					Created: 26/03/2014<br>
					By: <a href="http://www.codethislab.com" target="_blank">Code This Lab S.r.l.</a><br>
					Email: <a href="mailto:info@codethislab.com">info@codethislab.com</a>
					</strong>
				</p>
			</div><!-- end div .span-6 -->		
	
			<div class="span-12 last">
				<p class="prepend-top append-0">Thank you for purchasing our game. If you have any questions that are beyond the scope of this help file, please feel free to email via user page contact form <a href="http://themeforest.net/user/codethislab">here</a>. Thanks so much!</p>
			</div>
		</div><!-- end div .borderTop -->
		
		<hr>
		
		<h2 id="toc" class="alt">Table of Contents</h2>
		<ol class="alpha">
			<li><a href="#desc">Description</a></li>
			<li><a href="#desc">Getting Started</a></li>
			<li><a href="#htmlStructure">HTML Structure</a></li>
			<li><a href="#cssFiles">CSS Files and Structure</a></li>
			<li><a href="#javascript">JavaScript</a></li>
			<li><a href="#game_function">Game functions</a></li>
			<li><a href="#events">Events</a></li>
			<li><a href="#psdFiles">Asset Files</a></li>
			<li><a href="#tiles">Change Ball Graphic</a></li>
			<li><a href="#enable_sound">Enable Sounds For Mobile</a></li>
		</ol>
		
		<hr>
		
		<h3 id="desc"><strong>A) Description</strong> - <a href="#toc">top</a></h3>
		<p>Bubble shooter is a HTML5 clone of the famous Puzzle Bobble.  The goal of the game is to clear all the bubbles from the level avoiding any bubble crossing the bottom line. <br>
			The ZIP package contains the game at 768x1024 resolution that automatically scales to fit current screen device and all the assets to grant complete game customization. <br>
			The game is fully compatible with all most common mobile devices.<br>
			Sounds are <strong>DISABLED ON MOBILE DEVICES</strong> to avoid compatibility issues but can be easily enabled (read <a href="#enable_sound">Enable Sounds For Mobile</a> section). Anyway we can't grant full compatibility on all mobile devices if this feature is enabled.
		</p>
		<hr>
		
		<h3 id="desc"><strong>B) Getting Started</strong> - <a href="#toc">top</a></h3>
			<p>To install the game just upload on your server the folder game. WARNING: The game won't run locally with some browser like Chrome due to some security restrictions.
			
			<ul>
				<li><strong>Game Resize:</strong> All game resolution automatically center itself and fits on the screen thanks to the <strong>ctl_utils.js</strong> file. 
				If you want to avoid this, comment this function in this way: </li>
				<pre class="brush: js">
					$(window).ready(function() {
						//sizeHandler();
					});
				</pre>
				
				<li><strong>Save Score:</strong> if you need to call your php function for saving score, you can add it in the <strong>index.html</strong> file:
					<pre class="brush: js">
						$(document).ready(function(){
							var oMain = new CApp();
							
							$(oMain).on("save_score", function(evt,score,bWin) {
								//ADD YOUR CODE HERE
							});
						});
					</pre>
				</li>
				<li> <strong>Localization:</strong> You can easily change game text editing the file<strong>CLang.js</strong></li>
				
				<pre class="brush: js">
					TEXT_GAMEOVER   = "GAME OVER";
					TEXT_CONGRATS   = "CONGRATULATIONS";
					TEXT_SCORE      = "SCORE";
					TEXT_LEVEL      = "LEVEL";
					TEXT_PLAY       = "PLAY";
					TEXT_NEXT       = "NEXT";
					TEXT_INCREDIBLE = "INCREDIBILE!!!";
					TEXT_EXCELLENT  = "EXCELLENT!!";
					TEXT_VERYGOOD   = "VERY GOOD!";
					TEXT_GOOD       = "GOOD!";
					TEXT_COMPLETED  = "COMPLETED";
					TEXT_HELP       = "DESTROY ALL THE COLORED \n BUBBLES FROM THE LEVEL,\n LAUNCHING A BUBBLE ON \n GROUPS OF THE SAME \nCOLOR.";
					</pre>
				
				<li><strong>Game option:</strong> You can easily customize game setting in <strong>index.html</strong> file</li>
				<pre class="brush: js">
					var oMain = new CMain({
												board_y:150,         //Y OF BALL ATTACH
												ball_speed: 4,       //BALL SPEED
												ball_colors:9,       //NUMBER OF DIFFERENT COLORED BALLS
												shot_for_ceiling: 5, //NUMBER OF SHOT BEFORE CEIL GOES DOWN
												score_explosion:15,  //POINTS FOR EACH BALL EXPLOSION
												score_fall:20 ,      //POINTS FOR EACH FALLEN BALL
												levels: aLevels      //LEVELS DATA
												});
				</pre>
			</ul>
			</p>
		<hr>
		
		<h3 id="htmlStructure"><strong>C) HTML Structure</strong> - <a href="#toc">top</a></h3>
		<p>This game have the canvas tag in the body. The ready event into the body calls the main function of the game: CMain(). 
		<br>The head section declares all the javascript functions of the game. The whole project uses a typical object-oriented approach.<br> 
		In the init function there are 3 mapped <a href="#events">events</a> that can be useful eventually for stats</p>
		
		<pre class="brush: js">
			<body  ondragstart="return false;" ondrop="return false;" >
				  <script>
				   window.onload = function() {
						var oMain = new CApp();
						$(oMain).on("game_start", function(evt) {
								//alert("game_start");
						 });
						 
						 $(oMain).on("end_level", function(evt) {
                                 //alert("end_level");
                         });

						 $(oMain).on("save_score", function(evt,score) {
								 //alert("save_score: "+score);
						 });

						 $(oMain).on("restart", function(evt) {
								 //alert("restart");
						 });
					}
						
				  </script>
				  
				<canvas id="canvas" class='ani_hack' width="1024" height="768"> </canvas>
			</body>
		</pre>
		
		<hr>

		<h3 id="cssFiles"><strong>D) CSS Files and Structure</strong> - <a href="#toc">top</a></h3>

		<p>The game use two CSS files. The first one is a generic reset file. Many browser interpret the default behavior of html elements differently. By using a general reset CSS file, we can work round this. 
		Keep in mind, that these values might be overridden somewhere else in the file.</p> 

		<p>The second file contains all of the specific stylings for the game panels</p>  

		<hr>
		
		<h3 id="javascript"><strong>E) JavaScript</strong> - <a href="#toc">top</a></h3>
		
		<p>This game contains:</p>
		
		<ol>
			<li>jQuery</li>
			<li>Our custom scripts</li>
			<li>CreateJs plugin</li>
		</ol>
		  
		<ol>
			<li>jQuery is a Javascript library that greatly reduces the amount of code that you must write.</li>
			<li>The game have the following js files:
	
			<ul>
				<li>CMain: the main class called by the index file. <br>This file controls the sprite_lib.js file that manages the sprite loading, the game sounds, the loop game and initialize the canvas with the CreateJs library</li>
				<li>ctl_utils: this file manages the canvas resize and its centering</li>
				<li>sprite_lib: this class loads all images declared in the main class</li>
				<li>CSettings: general game settings</li>
				<li>settings: general game settings</li>
				<li>CLang: global string variables for language localization</li>
				<li>CPreloader: simple text preloader to show resources loading progress</li>
				<li>CMenu: simple menu with play button</li>
				<li>CGfxButton: this class create a standard button</li>
				<li>CTextButton: this class create a standard text button</li>
                <li>CToggle: this class create a standard toggle button</li>
				<li>CHelpPanel: this class manages the help panel that appears when game starts</li>
				<li>CGame: this class manages the game logic</li>
				<li>CInterface: this class controls game GUI that contains text and buttons</li>
				<li>CMath: this class contains some math function</li>
				<li>CEndPanel: this class controls the game over/win panel</li>
				<li>CNextLevelPanel: this class shows the next level panel</li>
				<li>CBall: this class manages the ball object</li>
				
			</ul>

			</li>
			<li>CreateJs is a suite of modular libraries and tools which work together to enable rich interactive content on open web technologies via HTML5.
			</li>
		</ol>
		
		<p>Resuming, the complete game flow is the following: </p>
		<ol>
			<li>The index.html file calls the CMain.js file after ready event is called</li>
			<li>The main class calls CPreloader.js to init preloader text and start sprite loading</li>
			<li>When all sprites contained in "/sprites" folder and sounds (if not mobile) are loaded, the main class removes the preloader and calls the CMenu.js file that shows the main menu</li>
			<li>If user click on the play button in main menu, the CGame.js class is called and the game starts</li>
			<li>The game class shows immediately a help screen that explain briefly the game instructions. When user click on this panel, the game finally starts</li>
			<li>If player clear all bubbles from level, the game shows a Next Level Panel with the level score. If player loses, the game shows a game over panel</li>
			<li>If user click on game over panel, the game returns to the menu screen</li>		
		</ol>		
		
		<hr>
		
		<h3 id="game_function"><strong>F) Game functions</strong> - <a href="#toc">top</a></h3>
			In this section will be explained all the most important functions used in <strong>CGame.js</strong> file. <br><br>
		
		<ul>
			<li><strong>_init()</strong> <br>
				This function attach on the canvas all game sprites like background (oBg), GUI and help panel.
			</li>
			<li><strong>_initLevel()</strong> <br>
				This function draw all ball in the current level.
			</li>
			<li><strong>resetLevel()</strong> <br>
				This function load the next level to play.
			</li>
			<li><strong>_gameOver()</strong> <br>
				This function is called when user loose.
			</li>
			<li><strong>_win()</strong> <br>
				This function is called when user finish the game.
			</li>
			<li><strong>tapScreen()</strong> <br>
				This function is called when user click on the screen to launch the bubble.
			</li>
			<li><strong>_updatePhysics()</strong> <br>
				This function manages the game physics.
			</li>
			
		</ul>
		
		<hr>
		
		<h3 id="events"><strong>G) Events</strong> - <a href="#toc">top</a></h3>
		<p>The game trigger the following events:</p>
		<ul>
			<li><strong>game_start:</strong> this event is called when user click play button in the main menu.</li>
			<li><strong>end_level:</strong> this event is called when appears the "next level" panel.</li>
			<li><strong>save_score:</strong> this event is called each time user win or lose the game. It passes the current score and final game state (win or lose).</li>
			<li><strong>restart:</strong> this event is called when user exit from the game</li>
		</ul>
		
		<hr>

		<h3 id="psdFiles"><strong>H) Asset Files</strong> - <a href="#toc">top</a></h3>
		
		<p>The game package contains a 9 .psd files (Photoshop).</p>
			<ol>
				<li>bg_game.psd: the game background</li>
				<li>bg_help.psd: the help background</li>
				<li>ball.psd: the ball spritesheet</li>
				<li>wall_tile.psd: the piece of wall</li>
				<li>msg_box.psd: the end panel background</li>
				<li>but_play.psd: the menu button</li>
				<li>but_game.psd: the game buttons</li>
				<li>bg_menu.psd: the menu background</li>
				<li>bubble_explosion.psd: the explosion spritesheet, that appears when ball is removed from the level</li>
			</ol>
		<hr>

		<h3 id="spritesheet"><strong>I) Change Ball Graphic</strong> - <a href="#toc">top</a></h3>
		<p>The game contains the bubble and animation spritesheets that you can edit if you want to change the graphic:<br>

		
		<ul>
			<li><strong>balls.png: </strong>this image contains all bubble symbols.
			<br>
			<br>
			<img src="assets/images/balls.png" alt="bubble symbols" />
			<br>
			<br>
			<pre class="brush: js">
				var oSprite = s_oSpriteLibrary.getSprite('balls');
				_iBallDim = Math.floor(oSprite.width/NUM_BALL_COLORS);
				
				var oData = {   
								images: [oSprite], 
								// width, height & registration point of each sprite
								frames: {width: _iBallDim, height: oSprite.height, regX: 0, regY: 0}, 
								animations: {ball_0:[9],ball_1:[0],ball_2:[1],ball_3:[2],ball_4:[3],ball_5:[4],
																				ball_6:[5],ball_7:[6],ball_8:[7],ball_9:[8]}
							};
				
				_oBallSpriteSheet = new createjs.SpriteSheet(oData);
			</pre>
			
			</li>
			
			<li><strong>ball_explosion.png: </strong>this image contains explosion animation.
			<br>
			<br>
			<img src="assets/images/ball_explosion.png" alt="explosion animation" />
			<br>
			<br>
			<pre class="brush: js">
				var oSprite = s_oSpriteLibrary.getSprite('ball_explosion');
				var oData = {   
                        images: [oSprite], 
                        // width, height & registration point of each sprite
                        frames: {width: 150, height: 150, regX: 50, regY: 40}, 
                        animations: {explosion:[0,14,"invisible"],invisible:[15]}
                    };
        
				var oExplosionSpriteSheet = new createjs.SpriteSheet(oData);
			</pre>
			
			</li>
		</ul>
		
		
		<h3 id="enable_sound"><strong>L) Enable Sounds For Mobile</strong> - <a href="#toc">top</a></h3>
		<p>The game avoid sound playing if loaded on any mobile device. If you want to enable sounds also on mobiles, you have to change the following value in settings.js file:</p>
			<pre class="brush: js">var DISABLE_SOUND_MOBILE = false;</pre>
		
		<br><br>
		<p>Once again, thank you so much for purchasing this game. Fell free to contact us if you have any questions or issue relating to this game. No guarantees, but we'll do our best to assist.</p> 
		
		<p class="append-bottom alt large"><a href="http://www.codethislab.com" target="_blank"><strong>CODE THIS LAB S.R.L.</strong></a></p>
		<p><a href="#toc">Go To Table of Contents</a></p>
		
		<hr class="space">
	</div>
	<!-- end div .container -->

	<!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
	<script type="text/javascript">
		 SyntaxHighlighter.all()
	</script>
</body>
</html>